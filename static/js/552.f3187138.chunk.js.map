{"version":3,"file":"static/js/552.f3187138.chunk.js","mappings":"6OACA,EAAiC,yCAAjC,EAA+E,6B,kBCKlEA,EAAmB,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,cAEzBC,GAAWC,EAAAA,EAAAA,MACjB,OACI,eAAIC,UAAWC,EAAf,SACKJ,EAAcK,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,YAAd,OACf,yBACI,UAAC,KAAD,CAAeC,GAAE,kBAAaH,GAAMI,MAAO,CAAEC,KAAMV,GAAnD,WACI,gBAAKE,UAAWC,EAAoBQ,IAAKL,EACrCM,IACIL,EAAW,UATpB,oCASoB,OACSA,GACdM,KACd,0BAAOP,MANAD,IADNA,EADM,KAc9B,E,iBCnBYS,EAAW,mCAAG,WAAOC,GAAP,uFAECC,EAAAA,GAAAA,IAAA,UANX,+BAMW,kCALZ,mCAKY,kBACmCD,IAC1DE,OAAM,SAAAC,GACL,OAAO,IAAIC,MAAMD,EAAME,QACxB,IANsB,cAEnBC,EAFmB,yBAQlBA,GARkB,2CAAH,sDCLxB,EAA+B,iCAA/B,EAA6E,+BAA7E,EAAwH,8B,iBCQzG,SAASC,IAAU,IAAD,EAE7B,GAA0CC,EAAAA,EAAAA,UAAS,IAAnD,eAAOxB,EAAP,KAAsByB,EAAtB,KACA,GAA0BD,EAAAA,EAAAA,UAAS,IAAnC,eAAOE,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KACMd,EAAM,UAAGa,EAAaE,IAAI,iBAApB,QAAiC,GAC7C,GAA4BP,EAAAA,EAAAA,UAAS,QAArC,eAAOQ,EAAP,KAAeC,EAAf,MAEAC,EAAAA,EAAAA,YAAU,WACN,GAAKlB,EAAL,CAIA,IAAMmB,EAAmB,mCAAG,oGAEpBF,EAAU,WAFU,SAIClB,EAAYC,GAJb,OAIdoB,EAJc,OAMpBH,EAAU,YACVR,EAAiBW,EAAOC,KAAKC,SAE7BC,OAAOC,SAAS,CACZC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,WAXM,yDAcpBZ,EAAU,YAdU,kBAeba,EAAAA,GAAAA,EAAQ,SAfK,0DAAH,qDAkBzBX,GApBC,CAqBJ,GAAE,CAACnB,IAWJ,OACI,iBAAKb,UAAWC,EAAhB,WAEI,kBAAM2C,SAVS,SAAAC,GACnBA,EAAEC,iBACF,IAAQC,EAAUF,EAAEG,OAAOC,SAAS1B,MAA5BwB,MAEApB,EAARoB,EAAwB,CAAElC,OAAQkC,GAA2B,CAAC,EACjE,EAKO,WACI,kBACI/C,UAAWC,EACXiD,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,eACZ,aAAW,SACXC,KAAK,QACLP,MAAOxB,EACPgC,SAtBO,SAAAV,GAAC,OAAIrB,EAASqB,EAAEG,OAAOD,MAAtB,KAuBZ,mBAAQ/C,UAAWC,EAAeiD,KAAK,SAAvC,uBAGHrD,EAAc2D,OAAS,GACpB,4BACI,SAAC5D,EAAD,CAAkBC,cAAeA,IACrB,YAAXgC,IAAwB,SAAC4B,EAAA,EAAD,QAE5B,4EAEL,SAAC,KAAD,MAGX,C","sources":["webpack://react-homework-template/./src/components/MoviesSearchList/MoviesSearchList.module.css?457d","components/MoviesSearchList/MoviesSearchList.jsx","services/fetchQuery.js","webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieSearchImg\":\"MoviesSearchList_movieSearchImg__MA3t5\",\"ul\":\"MoviesSearchList_ul__1mnKC\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from '../MoviesSearchList/MoviesSearchList.module.css';\nimport PropTypes from 'prop-types';\nimport defaultImage from '../../default/default-placeholder.png'\n\n\nexport const MoviesSearchList = ({ movieBySearch }) => {\n    const IMAGE_PATH = \"https://image.tmdb.org/t/p/w500/\";\n    const location = useLocation();\n    return (\n        <ul className={css.ul}>\n            {movieBySearch.map(({ id, title, poster_path }) => (\n                <li key={id}>\n                    <Link key={id} to={`/movies/${id}`} state={{ from: location }}>\n                        <img className={css.movieSearchImg} alt={title}\n                            src={\n                                poster_path ?\n                                    `${IMAGE_PATH}${poster_path}`\n                                    : defaultImage} />\n                        <span>{title}</span>\n                    </Link>\n                </li>\n            ))}\n        </ul>\n    )\n}\n\nMoviesSearchList.propTypes = {\n    movieBySearch: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            title: PropTypes.string.isRequired,\n            poster_path: PropTypes.string\n        })\n    )\n}","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '7ffdfa152a9c960018794573fb7e1fc4'\n\n\nexport const fetchSearch = async (search) => {\n\n  const fetchResult = await axios\n    .get(`${BASE_URL}/search/movie/?api_key=${API_KEY}&query=${search}`)\n    .catch(error => {\n      return new Error(error.message);\n    });\n\n  return fetchResult;\n};\n\n\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesSearch\":\"MoviesPage_moviesSearch__sdx+6\",\"searchForm\":\"MoviesPage_searchForm__oPV05\",\"searchBtn\":\"MoviesPage_searchBtn__Ax0+q\"};","import { MoviesSearchList } from \"components/MoviesSearchList/MoviesSearchList\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\"\nimport { useSearchParams } from \"react-router-dom\";\nimport { fetchSearch } from '../../services/fetchQuery'\nimport css from '../MoviesPage/MoviesPage.module.css';\nimport toast, { Toaster } from 'react-hot-toast';\nimport Loader from \"components/Loader/Loader\";\n\nexport default function Movies() {\n\n    const [movieBySearch, setMovieBySearch] = useState([]);\n    const [query, setQuery] = useState('');\n    const [searchParams, setSearchParams] = useSearchParams('');\n    const search = searchParams.get('search') ?? '';\n    const [status, setStatus] = useState('idle');\n\n    useEffect(() => {\n        if (!search) {\n            return;\n        }\n\n        const fetchMoviesBySearch = async () => {\n            try {\n                setStatus('pending');\n\n                const movies = await fetchSearch(search);\n\n                setStatus('resolved');\n                setMovieBySearch(movies.data.results);\n\n                window.scrollTo({\n                    top: document.documentElement.scrollHeight,\n                    behavior: 'smooth',\n                });\n            } catch (e) {\n                setStatus('rejected');\n                return toast.e('upps')\n            }\n        }\n        fetchMoviesBySearch()\n    }, [search]);\n\n    const handelOnChange = e => setQuery(e.target.value)\n\n    const handelOnSubmit = e => {\n        e.preventDefault();\n        const { value } = e.target.elements.query;\n\n        value ? setSearchParams({ search: value }) : setSearchParams({})\n    }\n\n    return (\n        <div className={css.moviesSearch}>\n\n            <form onSubmit={handelOnSubmit} >\n                <input\n                    className={css.searchForm}\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search movie\"\n                    aria-label=\"search\"\n                    name=\"query\"\n                    value={query}\n                    onChange={handelOnChange} />\n                <button className={css.searchBtn} type=\"submit\">Search</button>\n            </form>\n\n            {movieBySearch.length > 0 ? (\n                <div>\n                    <MoviesSearchList movieBySearch={movieBySearch} />\n                    {status === 'pending' && <Loader />}\n                </div>\n            ) : (<h2>Please write the name of film for searching...</h2>)}\n\n            <Toaster />\n        </div>\n    )\n}"],"names":["MoviesSearchList","movieBySearch","location","useLocation","className","css","map","id","title","poster_path","to","state","from","alt","src","defaultImage","fetchSearch","search","axios","catch","error","Error","message","fetchResult","Movies","useState","setMovieBySearch","query","setQuery","useSearchParams","searchParams","setSearchParams","get","status","setStatus","useEffect","fetchMoviesBySearch","movies","data","results","window","scrollTo","top","document","documentElement","scrollHeight","behavior","toast","onSubmit","e","preventDefault","value","target","elements","type","autoComplete","autoFocus","placeholder","name","onChange","length","Loader"],"sourceRoot":""}